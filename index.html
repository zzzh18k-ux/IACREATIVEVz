<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Social App</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    
    <style>
        /* --- EST√âTICA FACEBOOK / INSTAGRAM --- */
        :root {
            --primary: #1877F2; /* Azul Facebook */
            --bg: #F0F2F5;
            --white: #ffffff;
            --text: #050505;
            --gray: #65676B;
            --like-color: #ED4956;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg);
            margin: 0;
            padding-bottom: 70px; /* Espacio para men√∫ abajo */
            color: var(--text);
            -webkit-tap-highlight-color: transparent; /* Quita el cuadro azul al tocar en Android */
        }

        /* HEADER FIJO */
        .header {
            background: var(--white);
            padding: 10px 15px;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .logo { 
            color: var(--primary); 
            font-weight: 800; 
            font-size: 24px; 
            letter-spacing: -1px;
        }
        .wallet-badge {
            background: #E7F3FF;
            color: var(--primary);
            padding: 6px 12px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        /* CONTENEDOR DE POSTS */
        #feed { max-width: 600px; margin: 0 auto; }

        /* TARJETA DE POST */
        .post {
            background: var(--white);
            margin-top: 10px;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
        }

        .post-header {
            padding: 12px;
            display: flex;
            align-items: center;
        }
        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 10px;
            background: #ddd;
            object-fit: cover;
        }
        .user-col { display: flex; flex-direction: column; }
        .username { font-weight: 600; font-size: 15px; }
        .time { color: var(--gray); font-size: 12px; }

        .post-text {
            padding: 0 12px 10px 12px;
            font-size: 15px;
            line-height: 1.4;
        }

        .post-img {
            width: 100%;
            height: auto;
            display: block;
            min-height: 300px;
            background: #eee;
            object-fit: cover;
        }

        /* BOTONES QUE COBREN VIDA */
        .actions {
            padding: 5px;
            display: flex;
            border-top: 1px solid #eee;
            justify-content: space-around;
        }

        .btn {
            flex: 1;
            padding: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            color: var(--gray);
            font-weight: 600;
            font-size: 14px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.1s ease; /* La magia de la animaci√≥n suave */
            user-select: none;
        }

        /* Animaci√≥n al tocar (Active) */
        .btn:active {
            background-color: #f2f2f2;
            transform: scale(0.95); /* Se encoge un poquito */
        }
        
        /* Estado Liked (Coraz√≥n Rojo con animaci√≥n) */
        .btn.liked {
            color: var(--like-color);
            animation: bounce 0.4s; /* Efecto rebote */
        }
        .btn.liked .material-icons {
            font-variation-settings: 'FILL' 1;
        }

        @keyframes bounce {
            0% { transform: scale(1); }
            50% { transform: scale(1.3); }
            100% { transform: scale(1); }
        }

        /* ANUNCIO NATIVO (Disfrazado de Post) */
        .ad-native {
            background: #fff;
            margin-top: 10px;
            border: 1px solid #e1e1e1;
        }
        .ad-header {
            padding: 10px;
            color: var(--gray);
            font-size: 12px;
            display: flex;
            justify-content: space-between;
        }
        .ad-body {
            background: #f0f8ff;
            padding: 20px;
            text-align: center;
            cursor: pointer;
        }
        .ad-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            font-weight: bold;
            margin-top: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        .ad-btn:active { transform: translateY(2px); }

        /* TOAST (Notificaci√≥n flotante estilo App) */
        #toast {
            visibility: hidden;
            min-width: 250px;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 50px;
            padding: 12px;
            position: fixed;
            z-index: 1000;
            left: 50%;
            bottom: 30px;
            transform: translateX(-50%);
            font-size: 14px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
            opacity: 0;
            transition: opacity 0.3s, bottom 0.3s;
        }
        #toast.show {
            visibility: visible;
            opacity: 1;
            bottom: 50px;
        }

    </style>
</head>
<body>

    <div class="header">
        <div class="logo">SocialApp</div>
        <div class="wallet-badge">
            <span class="material-icons" style="font-size:16px">monetization_on</span>
            <span id="coins">0</span>
        </div>
    </div>

    <div id="feed">
        </div>

    <div id="toast">Notificaci√≥n</div>

    <script>
        // --- DATOS (Ahora con Textos Diferentes y Categor√≠as) ---
        const database = [
            { user: "Carlos_Fit", text: "Terminando la rutina de hoy. ¬°El esfuerzo vale la pena! üí™üî• #Gym #NoPainNoGain", type: "gym" },
            { user: "Maria_Travels", text: "Nunca hab√≠a visto un agua tan cristalina. El para√≠so existe üåä‚úàÔ∏è", type: "beach" },
            { user: "Tech_Review", text: "Probando el nuevo procesador. La velocidad es incre√≠ble üñ•Ô∏è‚ö°", type: "technology" },
            { user: "El_Comel√≥n", text: "No hay nada como una buena hamburguesa doble un viernes por la noche üçîüçü", type: "burger" },
            { user: "Meme_Lord", text: "Yo cuando suena la alarma el lunes por la ma√±ana... ü§°üí§", type: "clown" },
            { user: "Amo_Gatos", text: "Mirad c√≥mo duerme mi peque√±o. ¬øNo es adorable? üê±‚ù§Ô∏è", type: "cat" },
            { user: "Crypto_King", text: "El mercado est√° vol√°til hoy. ¬°Aprovechen las bajadas! üìâüìà", type: "chart" },
            { user: "Car_Lover", text: "El sonido de este motor V8 es m√∫sica para mis o√≠dos üèéÔ∏èüí®", type: "sportscar" },
            { user: "Pizza_Fan", text: "La pi√±a SI va en la pizza. Vengan de a uno üçïüçç", type: "pizza" },
            { user: "Gamer_Pro", text: "Por fin consegu√≠ el platino en este juego. 100 horas bien invertidas üéÆüèÜ", type: "gaming" },
            { user: "Cafe_Adicto", text: "Necesito 3 tazas m√°s para funcionar hoy. Buenos d√≠as ‚òï‚òÄÔ∏è", type: "coffee" },
            { user: "Sunset_Chaser", text: "Los colores del cielo hoy son irreales. Sin filtro üåÖüß°", type: "sunset" }
        ];

        let coins = 0;
        const feed = document.getElementById('feed');
        const coinDisplay = document.getElementById('coins');

        // --- GENERAR FEED ---
        function renderFeed() {
            // Barajar posts para que salgan en orden diferente cada vez
            const shuffled = database.sort(() => 0.5 - Math.random());
            
            let postCount = 0;

            shuffled.forEach(data => {
                createPost(data);
                postCount++;

                // Meter anuncio cada 3 posts
                if(postCount % 3 === 0) {
                    createAd();
                }
            });
        }

        // --- CREAR POST √öNICO ---
        function createPost(data) {
            // TRUCO: A√±adimos un n√∫mero aleatorio al final de la URL (?r=...)
            // Esto obliga al navegador a buscar una imagen NUEVA cada vez.
            const randomId = Math.floor(Math.random() * 99999);
            const imageUrl = `https://loremflickr.com/600/400/${data.type}?lock=${randomId}`;
            const avatarUrl = `https://i.pravatar.cc/150?u=${randomId}`;

            const article = document.createElement('article');
            article.className = 'post';
            article.innerHTML = `
                <div class="post-header">
                    <img src="${avatarUrl}" class="avatar">
                    <div class="user-col">
                        <span class="username">${data.user}</span>
                        <span class="time">Hace un momento ¬∑ üåç</span>
                    </div>
                </div>
                <div class="post-text">${data.text}</div>
                <img src="${imageUrl}" class="post-img" loading="lazy" onclick="imageClick()">
                <div class="actions">
                    <div class="btn" onclick="toggleLike(this)">
                        <span class="material-icons">favorite_border</span>
                        <span>Me gusta</span>
                    </div>
                    <div class="btn" onclick="showToast('Abrir comentarios...')">
                        <span class="material-icons">chat_bubble_outline</span>
                        <span>Comentar</span>
                    </div>
                    <div class="btn" onclick="sharePost()">
                        <span class="material-icons">share</span>
                        <span>Compartir</span>
                    </div>
                </div>
            `;
            feed.appendChild(article);
        }

        // --- CREAR ANUNCIO ---
        function createAd() {
            const div = document.createElement('div');
            div.className = 'ad-native';
            div.innerHTML = `
                <div class="ad-header">
                    <strong>Publicidad Sugerida</strong>
                    <span class="material-icons" style="font-size:14px">more_horiz</span>
                </div>
                <div class="ad-body" onclick="watchAd()">
                    <span style="font-size:40px">üéÅ</span>
                    <h3>Gana 50 Monedas</h3>
                    <p>Mira un video corto para recargar tu billetera.</p>
                    <button class="ad-btn">VER VIDEO AHORA</button>
                </div>
            `;
            feed.appendChild(div);
        }

        // --- INTERACCIONES VIVAS ---
        
        function toggleLike(btn) {
            const icon = btn.querySelector('.material-icons');
            
            if (btn.classList.contains('liked')) {
                // Quitar Like
                btn.classList.remove('liked');
                icon.textContent = "favorite_border";
                btn.style.color = "var(--gray)";
            } else {
                // Dar Like (Con Animaci√≥n)
                btn.classList.add('liked');
                icon.textContent = "favorite";
                
                // Vibraci√≥n t√°ctil (Solo funciona en Android)
                if (navigator.vibrate) navigator.vibrate(50);
                
                addCoins(5);
                showToast("‚ù§Ô∏è Te gusta esto (+5 monedas)");
            }
        }

        function watchAd() {
            showToast("üé¨ Cargando anuncio...");
            // Aqu√≠ ir√≠a el c√≥digo real de AdsGram/Monetag
            setTimeout(() => {
                addCoins(50);
                showToast("‚úÖ ¬°Recompensa recibida!");
                if (navigator.vibrate) navigator.vibrate([100, 50, 100]); // Doble vibraci√≥n
            }, 2000);
        }

        function sharePost() {
            // Usa el men√∫ de compartir nativo del celular
            if (navigator.share) {
                navigator.share({
                    title: 'SocialApp',
                    text: '¬°Mira este post incre√≠ble!',
                    url: window.location.href
                });
            } else {
                showToast("Enlace copiado al portapapeles");
            }
        }

        function imageClick() {
            showToast("Tocaste la imagen üì∏");
        }

        function addCoins(amount) {
            coins += amount;
            coinDisplay.innerText = coins;
            // Animaci√≥n del contador de monedas
            const badge = document.querySelector('.wallet-badge');
            badge.style.transform = "scale(1.2)";
            setTimeout(() => badge.style.transform = "scale(1)", 200);
        }

        // Notificaci√≥n Toast Personalizada
        function showToast(message) {
            const toast = document.getElementById("toast");
            toast.innerText = message;
            toast.className = "show";
            setTimeout(function(){ toast.className = toast.className.replace("show", ""); }, 3000);
        }

        // Iniciar
        renderFeed();

    </script>
</body>
    </html>
